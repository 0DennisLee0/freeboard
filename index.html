<!DOCTYPE html>
<html>
<head>
    <title>BUGBOARD</title>
    <meta name="viewport" content="width=1024"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content = "width = device-width, initial-scale = 1, user-scalable = no" />
    <!-- Bootstrap -->
    <!--<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">-->
    <link href="css/jquery.gridster.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <script src="js/head.js"></script>
    <script type="text/javascript">
        head.js("js/knockout.js",
                "js/knockout.switchcase.js",
                "js/jquery.js",
                "js/jquery-ui.js",
                "js/underscore.js",
                "js/jquery.gridster.js",
                "js/jquery.sparkline.min.js",
                "js/jquery.caret.js",
                "js/raphael.2.1.0.min.js",
                "js/justgage.1.0.1.js",
                "js/deccoboard/deccoboard.js",
                "js/deccoboard/plugins/deccoboard.json.js",
                "js/deccoboard/plugins/deccoboard.rl78.js",
                "js/deccoboard/plugins/deccoboard.widgets.js",
                "config.js",
                function (){

                });
    </script>
</head>
<body>
<header id="main-header" data-bind="if:allow_edit">
    <div id="admin-bar">
        <div id="admin-menu">
            <div id="board-tools">
                <h1>BUGBOARD</h1>
                <a href="javascript:void(0)" data-bind="click: loadDashboard"><i class="icon-upload icon-white"></i> Load Dashboard</a>
                <br>
                <a href="javascript:void(0)" data-bind="click: saveDashboard"><i class="icon-download icon-white"></i> Save Dashboard</a>
                <br>
                <br>
                <a href="javascript:void(0)" data-bind="click: createPane"><i class="icon-plus icon-white"></i> Add Pane</a>
            </div>
            <div id="datasources">
                <h1 class="small-text">DATASOURCES</h1>
                <div class="datasource-list-container">
                    <table class="table table-condensed sub-table" id="datasources-list" data-bind="if: datasources().length">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Last Updated</th>
                            <th>&nbsp;</th>
                        </tr>
                        </thead>
                        <tbody data-bind="foreach: datasources">
                            <tr>
                                <td><a href="javascript:void(0)" data-bind="text: name, pluginEditor: {operation: 'edit', type: 'datasource'}"></a></td>
                                <td data-bind="text: last_updated"></td>
                                <td>
                                    <a href="javascript:void(0)" class="datasource-refresh-btn" data-bind="click: updateNow"><i class="icon-refresh icon-white"></i></a> <a href="javascript:void(0)" class="datasource-delete-btn"><i class="icon-trash icon-white"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <a href="javascript:void(0)" class="table-operation" data-bind="pluginEditor: {operation: 'add', type: 'datasource'}">Add</a>
            </div>
        </div>
    </div>
    <a id="toggle-header" href="javascript:void(0)" data-bind="click: toggleEditing"><i class="icon-wrench icon-white"></i></a>
</header>
<div class="gridster">
    <ul data-bind="grid: true, template: {name: 'pane-template', foreach: panes}">
    </ul>
</div>

<script type="text/html" id="pane-template">
    <li data-bind="pane: true">
        <header>
            <h1 data-bind="text: title"></h1>
            <div class="widget-tools">
                <a href="javascript:void(0);" data-bind="pluginEditor: {operation: 'add', type: 'widget'}"><i class="icon-plus icon-white add-widget"></i></a><a href="javascript:void(0);"><i class="icon-wrench icon-white edit-widget"></i></a><a href="javascript:void(0);"><i class="icon-trash icon-white delete-widget"></i></a>
            </div>
        </header>
        <section data-bind="foreach: widgets">
            <div class="sub-section" data-bind="css: 'sub-section-height-' + height()">
                <div data-bind="widget: true"></div>
                <div class="sub-section-tools">
                    <a href="javascript:void(0);"><i class="icon-wrench icon-white edit-widget"></i></a><a href="javascript:void(0);"><i class="icon-trash icon-white delete-widget"></i></a>
                </div>
            </div>
        </section>
    </li>
</script>

</body>
</html>